## π—“οΈ 2024-10-30
### π—―οΈ μ¤ν¬λΌ
- ν•™μµ λ©ν‘ 1 : μ»¤λ®¤λ‹ν‹° λ μ΄μ•„μ›ƒ μ™„μ„±
- ν•™μµ λ©ν‘ 2 : λ¦¬ν‹€λ¦¬ κ³Όμ  λλ‚΄κΈ°

### βοΈ μƒλ΅ λ°°μ΄ λ‚΄μ©
#### Stateful (μƒνƒ μ μ§€)

> **Stateful** : ν΄λΌμ΄μ–ΈνΈ-μ„λ²„ κ΄€κ³„μ—μ„, μ„λ²„κ°€ ν΄λΌμ΄μ–ΈνΈμ μƒνƒλ¥Ό λ³΄μ΅΄ν•¨


- ν΄λΌμ΄μ–ΈνΈμ™€ μ„λ²„κ°€ λ°μ΄ν„° μ†΅μμ‹ μ„ ν†µν•΄ λ‹¨κ³„λ³„ μ‘μ—…μ„ μ§„ν–‰ν•  λ•, μ„λ²„λ” **μ΄μ „ λ‹¨κ³„μ—μ„ ν΄λΌμ΄μ–ΈνΈκ°€ μ κ³µν• μ •λ³΄λ¥Ό μ €μ¥**ν•λ‹¤. μ΄ν›„ λ‹¨κ³„μ—μ„λ„ μ΄ λ°μ΄ν„°λ¥Ό μ‚¬μ©ν•΄ μƒνƒλ¥Ό μ μ§€ν•λ‹¤.
- **μμ‹** :  μ›Ήμ‚¬μ΄νΈμ— λ΅κ·ΈμΈν• ν›„ νμ΄μ§€λ¥Ό μ΄λ™ν•΄λ„ μ„λ²„κ°€ ν΄λΌμ΄μ–ΈνΈμ λ΅κ·ΈμΈ μƒνƒλ¥Ό μ μ§€(κΈ°μ–µ)ν•κ³  μκΈ° λ•λ¬Έμ— λ΅κ·ΈμΈμ΄ ν’€λ¦¬μ§€ μ•κ³  κ³„μ† μ μ§€λλ” κ²ƒ.
- **μƒνƒ μ €μ¥ μ„μΉ** : ν΄λΌμ΄μ–ΈνΈμ μƒνƒλ¥Ό κΈ°μ–µν•κΈ° μ„ν•΄μ„λ” νΉμ • μ €μ¥μ†μ— μ •λ³΄κ°€ λ³΄μ΅΄λλ‹¤. μ΄λ” λ³΄ν†µ λΈλΌμ°μ €μ `μΏ ν‚¤(Cookie)`μ— μ €μ¥λκ±°λ‚ μ„λ²„μ `μ„Έμ…(Session)` λ©”λ¨λ¦¬μ— μ €μ¥λμ–΄ μƒνƒκ°€ μ μ§€λλ‹¤.


##### Stateful ν• ν”„λ΅ν† μ½ : TCP 3-way handshaking

![image](https://github.com/user-attachments/assets/068858d8-2a6a-4032-8158-094c693dc7ab)


1. **SYN ν¨ν‚· μ „μ†΅ (ν΄λΌμ΄μ–ΈνΈ β†’ μ„λ²„)**
    - ν΄λΌμ΄μ–ΈνΈκ°€ μ„λ²„μ— μ—°κ²° μ”μ²­ν•λ©° `SYN ν¨ν‚·`μ„ μ „μ†΅
    - μ΄λ• ν΄λΌμ΄μ–ΈνΈλ” `SYN_SENT` μƒνƒλ΅ λ“¤μ–΄κ°€λ©°, μ„λ²„λ΅λ¶€ν„° μ‘λ‹µμ„ κΈ°λ‹¤λ¦Ό
2. **SYN-ACK ν¨ν‚· μ „μ†΅ (μ„λ²„ β†’ ν΄λΌμ΄μ–ΈνΈ)**
    - μ„λ²„λ” ν΄λΌμ΄μ–ΈνΈμ `SYN ν¨ν‚·`μ„ μμ‹ ν•κ³  μ—°κ²° μ”μ²­μ„ μΉμΈ
    - μ„λ²„λ” ν΄λΌμ΄μ–ΈνΈμ—κ² μμ‹ μ `SYN`κ³Ό μ‘λ‹µ `ACK`λ¥Ό ν¬ν•¨ν• `SYN-ACK ν¨ν‚·`μ„ μ „μ†΅
    - μ΄ κ³Όμ •μ—μ„ μ„λ²„λ” `SYN_RECEIVED` μƒνƒκ°€ λ¨
3. **ACK ν¨ν‚· μ „μ†΅ (ν΄λΌμ΄μ–ΈνΈ β†’ μ„λ²„)**
    - ν΄λΌμ΄μ–ΈνΈλ” μ„λ²„μ `SYN_ACK ν¨ν‚·`μ„ μμ‹ ν•κ³ , μ„λ²„μ— `ACK ν¨ν‚·`μ„ λ³΄λ‚΄ μ—°κ²°μ„ μµμΆ… ν™•λ¦½
    - μ΄ ν¨ν‚·μ΄ μ„λ²„μ— λ„λ‹¬ν•λ©΄, μ„λ²„μ™€ ν΄λΌμ΄μ–ΈνΈ λ¨λ‘ `ESTABLISHED` μƒνƒκ°€ λμ–΄ λ°μ΄ν„° μ „μ†΅μ΄ κ°€λ¥ν• μ—°κ²° μƒνƒλ΅ λ“¤μ–΄κ°

##### Statefulμ λ‹¨μ 

- **μ„λ²„ μ¥μ•  μ‹ λ¬Έμ ** : νΉμ • μ„λ²„μ— ν΄λΌμ΄μ–ΈνΈ μƒνƒκ°€ μ €μ¥λκΈ° λ•λ¬Έμ—, ν•΄λ‹Ή μ„λ²„κ°€ μ¤‘λ‹¨λκ±°λ‚ μ‚¬μ©ν•  μ μ—†κ² λλ©΄ λ¬Έμ κ°€ μƒκΈ΄λ‹¤. λ‹¤λ¥Έ μ„λ²„λ΅ μ „ν™λλ”λΌλ„ μƒλ΅μ΄ μ„λ²„μ—λ” **μ΄μ „ μƒνƒκ°’μ΄ μ—†κΈ° λ•λ¬Έ**μ΄λ‹¤.
- **μ„λ²„ λ¶€λ‹΄**  β¬†οΈΒ : μ„λ²„κ°€ ν΄λΌμ΄μ–ΈνΈ μƒνƒλ¥Ό λ³΄μ΅΄ν•κΈ° μ„ν•΄ λ©”λ¨λ¦¬λ¥Ό μ‚¬μ©ν•λ―€λ΅, λ§μ€ μ‚¬μ©μλ¥Ό λ™μ‹μ— μ²λ¦¬ν•  κ²½μ° μ„λ²„μ λ¶€λ‹΄μ΄ μ»¤μ§„λ‹¤.


#### Stateless (λ¬΄μƒνƒ)


>**Stateless** : ν΄λΌμ΄μ–ΈνΈ-μ„λ²„ κ΄€κ³„μ—μ„, μ„λ²„κ°€ ν΄λΌμ΄μ–ΈνΈμ μƒνƒλ¥Ό λ³΄μ΅΄ν•μ§€ μ•μ


- μ„λ²„μ μ—­ν•  : λ‹¨μν ν΄λΌμ΄μ–ΈνΈ μ”μ²­μ— λ€ν• μ‘λ‹µλ§μ„ μν–‰ν•λ©°, μ΄μ „ μ”μ²­μ μƒνƒλ¥Ό μ €μ¥ν•μ§€ μ•λ”λ‹¤. μƒνƒ μ •λ³΄λ” μ „μ μΌλ΅ ν΄λΌμ΄μ–ΈνΈκ°€ κ΄€λ¦¬ν•λ‹¤.
- μ¦‰, ν΄λΌμ΄μ–ΈνΈμ™€ μ„λ²„ κ°„μ ν†µμ‹ μ— ν•„μ”ν• **λ¨λ“  μƒνƒ μ •λ³΄λ“¤μ€ ν΄λΌμ΄μ–ΈνΈκ°€ κ°€μ§€κ³  μλ‹¤κ°€** μ„λ²„μ— μ”μ²­ν•  λ• ν•¨κ» μ „μ†΅
- **μ„λ²„ λ¶€λ‹΄ β¬‡οΈ**Β : μ„λ²„λ” μƒνƒλ¥Ό μ €μ¥ν•  ν•„μ”κ°€ μ—†μ–΄ μƒνƒ κ΄€λ¦¬μ— λ”°λ¥Έ λ¶€λ‹΄μ΄ μ¤„μ–΄λ“¤κ³ , λ” λ§μ€ μ”μ²­μ„ ν¨μ¨μ μΌλ΅ μ²λ¦¬ν•  μ μμ
- **μ•μ •μ„±** β¬†οΈΒ : μ„λ²„κ°€ μƒνƒλ¥Ό μ μ§€ν•μ§€ μ•κΈ° λ•λ¬Έμ—, νΉμ • μ„λ²„κ°€ μ¤‘λ‹¨λλ”λΌλ„ λ‹¤λ¥Έ μ„λ²„κ°€ μ΄μ–΄μ„ μ‘λ‹µμ„ μ²λ¦¬ν•  μ μμ–΄ μ•μ •μ„±μ΄ λ†’λ‹¤.

##### Statelessν• ν”„λ΅ν† μ½ : UDP, HTTP

λ€ν‘μ μΈ Stateless ν”„λ΅ν† μ½λ΅ `UDP`μ™€ `HTTP`κ°€ μλ‹¤.

- **UDP**
    - **TCPμ™€μ μ°¨μ΄μ ** : UDPλ” TCPμ™€ λ‹¬λ¦¬ 3-way ν•Έλ“μ…°μ΄ν¬ κ°™μ€ μ—°κ²° ν™•μΈ μ μ°¨ μ—†μ΄ λ°μ΄ν„°κ°€ κ³§λ°”λ΅ μ „μ†΅λ¨
    - μ„λ²„λ” ν΄λΌμ΄μ–ΈνΈμ™€μ **μ—°κ²° μƒνƒλ¥Ό κ΄€λ¦¬ν•μ§€ μ•κ³ **, ν΄λΌμ΄μ–ΈνΈκ°€ λ³΄λ‚Έ λ°μ΄ν„°μ **μμ‹  μ—¬λ¶€λ„ ν™•μΈν•μ§€ μ•λ”λ‹¤**. λ”°λΌμ„ μ„λ²„λ” ν΄λΌμ΄μ–ΈνΈμ **μ„Έμ… μ •λ³΄ μ—†μ΄ λ°μ΄ν„°λ¥Ό λ°›λ” μ¦‰μ‹ μ‘λ‹µ**ν•λ‹¤.
    - μ„μ™€ κ°™μ€ μ΄μ λ΅ λΉ λ¥Έ μ „μ†΅μ΄ κ°€λ¥ν•μ—¬ μ‹¤μ‹κ°„ ν†µμ‹ μ΄ μ¤‘μ”ν• μ• ν”λ¦¬μΌ€μ΄μ… (μ¤νΈλ¦¬λ° λ“±)μ— μμ£Ό μ‚¬μ©λλ‹¤.
- **HTTP**
    - κΈ°λ³Έμ μΌλ΅ λ¬΄μƒνƒλ΅ μ‘λ™ν•μ—¬ κ° μ”μ²­μ΄ λ…λ¦½μ μΌλ΅ μ²λ¦¬λ¨
    - λΈλΌμ°μ €κ°€ μ„λ²„μ— μ”μ²­μ„ λ³΄λ‚Ό λ•λ§λ‹¤ μƒλ΅ μ—°κ²°μ„ ν•κ³ , λ°μ΄ν„°λ¥Ό μ „μ†΅ν• λ’¤ μ—°κ²°μ„ λμ
    - `μΏ ν‚¤`μ™€ `μ„Έμ…` κ°™μ€ μ¶”κ°€ κΈ°μ μ„ ν†µν•΄ **Statefulν• λ°©μ‹λ„ κ°€λ¥**

##### Stateless λ‹¨μ 

- **λ§μ€ λ°μ΄ν„° μ†λ¨** : ν΄λΌμ΄μ–ΈνΈκ°€ μ”μ²­ν•  λ•λ§λ‹¤ ν•„μ”ν• λ¨λ“  μƒνƒ μ •λ³΄λ¥Ό ν¬ν•¨ν•΄μ•Ό ν•λ―€λ΅ Stateful λ°©μ‹λ³΄λ‹¤ λ” λ§μ€ λ°μ΄ν„°κ°€ μ „μ†΅λ¨

##### Statelessμ™€ ν† ν°

Stateless λ°©μ‹μ—μ„  μ„λ²„κ°€ ν΄λΌμ΄μ–ΈνΈμ μƒνƒλ¥Ό μ €μ¥ν•μ§€ μ•κ³  μ”μ²­μ— λ€ν• μ‘λ‹µλ§μ„ μν–‰ν•κΈ° λ•λ¬Έμ— μ„λ²„ λ¶€ν•κ°€ μ¤„μ–΄λ“λ” μ¥μ μ΄ μλ‹¤.

ν•μ§€λ§ **λ΅κ·ΈμΈ μ μ§€**μ™€ κ°™μ€ κΈ°λ¥μ„ μ„ν•΄ μƒνƒ μ €μ¥μ΄ ν•„μ”ν• κ²½μ°κ°€ μƒκΈ°κΈ°λ„ ν•λ‹¤.

μ΄λ• Stateless νΉμ§•μ„ μ μ§€ν•λ©΄μ„λ„ λ΅κ·ΈμΈ μƒνƒλ¥Ό μ μ§€ν•  μ μκ² ν•λ” κΈ°μ μ΄ λ°”λ΅ `JWT ν† ν°`μ΄λ‹¤.

μ£Όλ΅ HTTP μ”μ²­μ ν—¤λ”μ— JWTλ¥Ό ν¬ν•¨ν•μ—¬ ν΄λΌμ΄μ–ΈνΈκ°€ μ„λ²„μ— λ³΄λ‚Έλ‹¤. μ„λ²„λ” λ§¤ μ”μ²­μ—μ„ JWTλ¥Ό ν™•μΈν•΄ μ‚¬μ©μλ¥Ό μΈμ¦ν•λ‹¤.

### π¤” μ¤λμ νκ³ 
- λ”¥λ‹¤μ΄λΈλ¥Ό μ„ν•΄ λ‚¨λ“¤μ΄ μ‰½κ² μ΄ν•΄ν•  μ μλ„λ΅ μ„¤λ…μ„ μ¤€λΉ„ν•λ©΄μ„, λ‚ μ—­μ‹ κ°λ…μ„ λ” μ²΄κ³„μ μΌλ΅ μ •λ¦¬ν•κ³  κΉμ΄ μ΄ν•΄ν•  μ μμ—λ‹¤. 

### π”— μ°Έκ³  μλ£ λ° λ§ν¬
- [https://inpa.tistory.com/entry/WEB-π“-Stateful-Stateless-μ •λ¦¬#Stateless_μ™€_http_/_rest](https://inpa.tistory.com/entry/WEB-%F0%9F%93%9A-Stateful-Stateless-%EC%A0%95%EB%A6%AC#stateless_%EC%99%80_http_/_rest)
- https://www.techopedia.com/definition/10339/three-way-handshake (μ΄λ―Έμ§€)
- https://wooono.tistory.com/366
