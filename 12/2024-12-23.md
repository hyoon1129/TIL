# μ›Ήν›…μ΄λ€?


> **μ›Ήν›…(Webhook)**
>
> λ°μ΄ν„°κ°€ λ³€κ²½λμ—μ„ λ• μ„λ²„κ°€ ν΄λΌμ΄μ–ΈνΈμ— μ‹¤μ‹κ°„μΌλ΅ λ³΄λ‚΄λ” HTTP κΈ°λ° μ½λ°± λ©”μ»¤λ‹μ¦


- μ›Ή μ„λΉ„μ¤μ μ΄λ²¤νΈ λ°μ΄ν„°λ¥Ό μ „λ‹¬ν•λ” HTTP κΈ°λ° μ½λ°± ν•¨μ
- νΉμ • μ΄λ²¤νΈκ°€ λ°μƒν•λ©΄ μ›Ήν›…μ΄ ν΄λΌμ΄μ–ΈνΈμ—κ² μ΄λ²¤νΈ λ°μ΄ν„°λ¥Ό λ³΄λƒ„
- **HTTP κΈ°λ°μ μ›Ή νΉμ§•**κ³Ό **ν›…(Hook)** κΈ°λ¥μ„ ν•©μΉ μ©μ–΄
- HTTPλ¥Ό μ‚¬μ©ν•κΈ° λ•λ¬Έμ— μƒλ΅μ΄ μΈν”„λΌλ¥Ό μ¶”κ°€ν•μ§€ μ•κ³ λ„ μ›Ή μ„λΉ„μ¤μ™€ μ‰½κ² ν†µν•©λ  μ μμ

## μ›Ήν›…μ λ™μ‘ λ°©μ‹

1. **URL λ“±λ΅** : ν΄λΌμ΄μ–ΈνΈλ” μ΄λ²¤νΈ λ°μƒ μ‹ μ„λ²„κ°€ νΈμ¶ν•  URLμ„ μ„λ²„μ— λ“±λ΅ν•λ‹¤.
2. **μ΄λ²¤νΈ λ°μƒ** : μ„λ²„μ—μ„ νΉμ • μ΄λ²¤νΈκ°€ λ°μƒν•λ©΄ μ‚¬μ „μ— λ“±λ΅λ URLλ΅ HTTP μ”μ²­μ„ λ³΄λ‚Έλ‹¤.
3. **λ°μ΄ν„° μ²λ¦¬** : ν΄λΌμ΄μ–ΈνΈλ” μ„λ²„μ—μ„ μ „λ‹¬λ°›μ€ λ°μ΄ν„°λ¥Ό μ²λ¦¬ν•λ‹¤.

## μ›Ήν›…κ³Ό API ν΄λ§μ μ°¨μ΄

![image](https://github.com/user-attachments/assets/a25aab7f-8f3c-473a-a91c-a769bb97c7ee)


### μμ‹

- **API ν΄λ§** : μΉκµ¬κ°€ λ°›μ„ λ•κΉμ§€ κ³„μ† μ „ν™” π¤·π“
- **μ›Ήν›…** : β€μ‹κ°„ λ‚λ©΄ μ „ν™” μ¤~β€ λΌκ³  λ¬Έμ π’¬

### **API ν΄λ§(Polling)**

- ν΄λΌμ΄μ–ΈνΈκ°€ μ£ΌκΈ°μ μΌλ΅ μ„λ²„ APIλ¥Ό νΈμ¶ν•΄ μ΄λ²¤νΈκ°€ λ°μƒν–λ”μ§€ ν™•μΈν•λ” λ°©μ‹

**μ¥μ **

| μ¥μ  | μ„¤λ… |
| --- | --- |
| **κ°„λ‹¨ν• κµ¬ν„** | λ‹¨μν• HTTP μ”μ²­λ§μΌλ΅ λ™μ‘ν•λ―€λ΅ μ„λ²„μ™€ ν΄λΌμ΄μ–ΈνΈ κ°„ ν†µμ‹  κµ¬μ΅°κ°€ κ°„λ‹¨ν•μ—¬ κµ¬ν„μ΄ μ‰¬μ›€ |
| **μΌμ •ν• μƒνƒ ν™•μΈ** | μ£ΌκΈ°μ μΌλ΅ μƒνƒλ¥Ό ν™•μΈν•μ—¬ λ°μ΄ν„°μ μµμ‹  λ°μ΄ν„°λ¥Ό μΌμ •ν• κ°„κ²©μΌλ΅ ν™•λ³΄ν•  μ μμ |
| **λ…λ¦½μ μΈ μ΄μ** | μ„λ²„κ°€ ν΄λΌμ΄μ–ΈνΈλ¥Ό νΈμ¶ν•μ§€ μ•μΌλ―€λ΅ λ³΄μ• λ° λ„¤νΈμ›ν¬ μ„¤μ •μ΄ λ‹¨μ |

**λ‹¨μ **

| λ‹¨μ  | μ„¤λ… |
| --- | --- |
| **λ¦¬μ†μ¤ λ‚­λΉ„**  | μ΄λ²¤νΈκ°€ λ°μƒν•μ§€ μ•μ•„λ„ λ°λ³µμ μΈ μ”μ²­μΌλ΅ λ¦¬μ†μ¤λ¥Ό μ†λ¨ |
| **λΉ„ν¨μ¨μ„±** | μ΄λ²¤νΈ λ°μƒ ν›„ μ‹¤μ‹κ°„μΌλ΅ λ°μ΄ν„°λ¥Ό λ°›κΈ° μ–΄λ ¤μ›€ |
| **ν™•μ¥μ„± λ¬Έμ ** | λ§μ€ ν΄λΌμ΄μ–ΈνΈκ°€ λ™μ‹μ— μ”μ²­ ν•λ©΄ μ„λ²„ λ¶€ν• μ¦κ°€ |

### μ›Ήν›…

- μ„λ²„μ—μ„ νΉμ • μ΄λ²¤νΈκ°€ λ°μƒν–μ„ λ• ν΄λΌμ΄μ–ΈνΈλ¥Ό νΈμ¶ν•λ” λ°©μ‹
- μ„λ²„μ—μ„ νΉμ • μ΄λ²¤νΈκ°€ λ°μƒν–μ„ λ• ν΄λΌμ΄μ–ΈνΈλ¥Ό νΈμ¶ν•λ” λ°©μ‹ β†’ **μ—­λ°©ν–¥ API** λλ” **ν‘Έμ‹ API**λΌκ³ λ„ λ¶λ¦Ό

**μ¥μ **
| μ¥μ  | μ„¤λ… |
| --- | --- |
| **ν¨μ¨μ  λ¦¬μ†μ¤ μ‚¬μ©** | μ„λ²„κ°€ ν•„μ”ν• κ²½μ°μ—λ§ λ°μ΄ν„°λ¥Ό μ „λ‹¬ν•λ―€λ΅ μ„λ²„μ™€ ν΄λΌμ΄μ–ΈνΈμ λ¦¬μ†μ¤ μ‚¬μ©μ„ μµμ†ν™” |
| **μ‹¤μ‹κ°„ λ°μ΄ν„° μ „λ‹¬** | ν΄λΌμ΄μ–ΈνΈκ°€ μ¦‰μ‹ λ°μ΄ν„°λ¥Ό λ°›μ•„ λΉ λ¥Έ μ²λ¦¬ κ°€λ¥ |
| **κ°„κ²°ν• λ°μ΄ν„° νλ¦„** | λ¶ν•„μ”ν• λ°λ³µ μ”μ²­μ΄ μ—†μ–΄ ν΄λΌμ΄μ–ΈνΈμ™€ μ„λ²„μ μ½”λ“κ°€ λ‹¨μν™”λκ³  μ μ§€λ³΄μκ°€ μ©μ΄ |

**λ‹¨μ **
| λ¬Έμ  | μ„¤λ… |
| --- | --- |
| **μ‹ λΆ°μ„± λ¬Έμ **    | μ„λ²„κ°€ μ›Ήν›… μ”μ²­μ„ μ‹¤ν¨ν•κ±°λ‚ ν΄λΌμ΄μ–ΈνΈκ°€ μμ‹ ν•μ§€ λ»ν•λ” κ²½μ° λ°μ΄ν„°κ°€ μ μ‹¤λ  μ μμ β†’ ν•΄κ²° λ°©μ• : μ¬μ‹λ„ λ©”μ»¤λ‹μ¦ λ° λ°±μ—… ν΄λ§ μ„¤μ •μΌλ΅ λ³΄μ™„ κ°€λ¥ |
| **λ³΄μ• λ¬Έμ **    | μ™Έλ¶€ URLλ΅ μ”μ²­μ„ λ³΄λ‚΄λ” λ°©μ‹μ΄λ―€λ΅, URLμ΄ λ…Έμ¶λλ©΄ μ•…μ© κ°€λ¥μ„±μ΄ μμ<br>β†’ ν•΄κ²° λ°©μ• : μΈμ¦ ν† ν°, IP ν™”μ΄νΈλ¦¬μ¤νΈ, HTTPSλ¥Ό ν†µν• λ³΄μ• κ°•ν™” |
| **λ³µμ΅ν• μ„¤μ •**    | ν΄λΌμ΄μ–ΈνΈμ—μ„ URLμ„ λ“±λ΅ν•κ³  μ„λ²„μ™€μ μΈμ¦ μ²΄κ³„λ¥Ό μ„¤κ³„ν•΄μ•Ό ν•λ” μ¶”κ°€ μ‘μ—…μ΄ ν•„μ”ν•¨ |


## μ›Ήν›… μ„¤κ³„ μ‹ μ£Όμν•  μ 

1. **API μ„¤κ³„**
    - μ„λ²„κ°€ ν΄λΌμ΄μ–ΈνΈλ¥Ό νΈμ¶ν•  APIμ κµ¬μ΅°μ™€ λ°μ΄ν„°λ¥Ό λ…ν™•ν μ •μν•΄μ•Ό ν•λ‹¤.
        - μ) μ”μ²­ λ©”μ„λ“(GET, POST), λ°μ΄ν„° ν•μ‹(JSON/XML), ν•„μ ν•„λ“ λ“± λ…ν™•ν μ •μ
    - ν΄λΌμ΄μ–ΈνΈλ” μ›Ήν›… μ”μ²­μ— μ„±κ³µ/μ‹¤ν¨λ¥Ό λ…ν™•ν μ‘λ‹µν•΄μ•Ό ν•κ³ , μ”μ²­μ΄ μ‹¤ν¨ν–μ„ λ• μ„λ²„κ°€ μ¬μ‹λ„ν• μ§€ μ—¬λ¶€λ¥Ό κ²°μ •ν•΄μ•Ό ν•λ‹¤.
2. **λ³΄μ•**
    - μ„λ²„κ°€ μ”μ²­μ„ λ³΄λ‚Ό λ•, ν—¤λ”μ— μΈμ¦ ν† ν°μ„ ν¬ν•¨ν•΄ μ”μ²­μ μ‹ λΆ°μ„±μ„ λ³΄μ¥ν•λ‹¤.
    - IP ν™”μ΄νΈλ¦¬μ¤νΈλ¥Ό μ΄μ©ν•΄ μ„λ²„κ°€ μ›Ήν›… μ”μ²­μ„ λ³΄λ‚Ό μ μλ” IP λ²”μ„λ¥Ό μ ν•ν•΄ λ³΄μ•μ„ κ°•ν™”ν•λ‹¤.
    - λ°μ΄ν„°λ¥Ό μ•”νΈν™”ν•΄ μ¤‘κ°„μ—μ„ νƒμ·¨λ‹Ήν•μ§€ μ•λ„λ΅ HTTPSλ¥Ό μ‚¬μ©ν•λ‹¤.
3. **URL κ΄€λ¦¬**
    - μ›Ήν›… μ”μ²­μ΄ μ¬ URLμ„ ν΄λΌμ΄μ–ΈνΈμ—μ„ μ„λ²„μ— μ •ν™•ν λ“±λ΅ν•΄μ•Ό ν•λ‹¤. URL λ³€κ²½μ΄ ν•„μ”ν•  κ²½μ° μ μ ν• μ¬λ“±λ΅ μ μ°¨κ°€ ν•„μ”ν•λ‹¤.
    - λ“±λ΅ν• URLμ΄ μ •μƒμ μΌλ΅ λ™μ‘ν•λ”μ§€ μ£ΌκΈ°μ μΌλ΅ μ κ²€ν•΄μ•Ό ν•λ‹¤.


## μ°Έκ³ 

https://docs.tosspayments.com/resources/glossary/webhook

[https://ko.wikipedia.org/wiki/μ›Ήν›…](https://ko.wikipedia.org/wiki/%EC%9B%B9%ED%9B%85)

----
# API Gatewayμ μ—­ν• κ³Ό λ™μ‘κ³Όμ •
>**API Gateway**
>
>ν΄λΌμ΄μ–ΈνΈ(μ‚¬μ©μ λλ” μ• ν”λ¦¬μΌ€μ΄μ…)μ™€ λ°±μ—”λ“ μ„λΉ„μ¤(μ„λ²„λ‚ λ°μ΄ν„°λ² μ΄μ¤) μ‚¬μ΄μ—μ„ κ²μ΄νΈμ›¨μ΄(κ΄€λ¬Έ) μ—­ν• μ„ ν•λ” μ¤‘μ”ν• μ»΄ν¬λ„νΈ


- μ‰½κ² λ§ν•΄ ν΄λΌμ΄μ–ΈνΈκ°€ API μ”μ²­μ„ λ³΄λ‚΄λ©΄ μ΄λ¥Ό μ²λ¦¬ν•κ³  μ μ ν• λ°±μ—”λ“ μ„λΉ„μ¤λ΅ μ „λ‹¬ν•λ” **μ¤‘κ°„ κ΄€λ¦¬μ** λΌκ³  ν•  μ μμ
- API μ”μ²­μ„ μμ‹ ν•κ³ , νΈλν”½ μ ν• λ° λ³΄μ• μ •μ±…μ„ μ μ©ν•λ©° μ”μ²­μ„ λ°±μ—”λ“ μ„λΉ„μ¤λ΅ μ „λ‹¬ν• ν›„ ν΄λΌμ΄μ–ΈνΈμ—κ² λ°ν™
- API Gatewayλ¥Ό λ“±λ΅ν•΄μ£Όλ©΄, λ¨λ“  ν΄λΌμ΄μ–ΈνΈλ” κ° μ„λΉ„μ¤μ μ—”λ“ν¬μΈνΈ λ€μ‹  API Gatewayλ΅ μ”μ²­μ„ μ „λ‹¬ν•μ—¬ κ΄€λ¦¬κ°€ μ©μ΄ν•΄μ§
    
    β†’ μ‚¬μ©μκ°€ μ„¤μ •ν• λΌμ°ν… μ„¤μ •μ— λ”°λΌ κ° μ—”λ“ν¬μΈνΈλ΅ ν΄λΌμ΄μ–ΈνΈλ¥Ό λ€λ¦¬ν•μ—¬ μ”μ²­ν•κ³  μ‘λ‹µμ„ λ°›μΌλ©΄ λ‹¤μ‹ ν΄λΌμ΄μ–ΈνΈμ—κ² μ „λ‹¬ν•λ” **ν”„λ΅μ‹ μ—­ν• **μ„ ν•κΈ° λ•λ¬Έ
    

## API **Gatewayμ μ£Όμ” μ—­ν• **

| **μ—­ν• ** | **μ„¤λ…** |
| --- | --- |
| **μ”μ²­ κ΄€λ¦¬** | ν΄λΌμ΄μ–ΈνΈ μ”μ²­μ„ μμ‹ , λ¶„μ„, κ²€μ‚¬ ν›„ λ°±μ—”λ“ μ„λΉ„μ¤λ΅ μ „λ‹¬ |
| **λ³΄μ• μ κ³µ** | β€Ά μΈμ¦/μΈκ°€λ¥Ό ν†µν•΄ μ”μ²­μ μ‹ λΆ°μ„±μ„ ν™•μΈ </br> β€Ά ν—μ©/μ°¨λ‹¨ λ©λ΅(Allow-list/Deny-list) κΈ°λ¥μΌλ΅ λ³΄μ•μ„ κ°•ν™” |
| **νΈλν”½ μ μ–΄** | μ”μ²­ μ†λ„ μ ν•(Rate Limiting)μΌλ΅ μ„λ²„ κ³Όλ¶€ν• λ°©μ§€ λ° μ‹μ¤ν… μ•μ •μ„± μ μ§€ |
| **ν”„λ΅ν† μ½ λ³€ν™** | ν΄λΌμ΄μ–ΈνΈ μ”μ²­μ„ λ°±μ—”λ“ μ„λΉ„μ¤μ—μ„ μ΄ν•΄ν•  μ μλ” ν•νƒλ΅ λ³€ν™ |
| **λ΅λ“ λ°Έλ°μ‹±** | μ—¬λ¬ μ”μ²­μ„ λ°±μ—”λ“ μ„λ²„λ΅ λ¶„μ‚°ν•μ—¬ μ‹μ¤ν… ν¨μ¨μ„±μ„ λ†’μ΄κ³  μ•μ •μ„±μ„ λ³΄μ¥ |
| **μ—λ¬ μ²λ¦¬** | λ¥ κ΄€λ¦¬ λ° νλ΅ μ°¨λ‹¨(Circuit Breaker) κΈ°λ¥μΌλ΅ μ‹μ¤ν… λ³΄νΈ |
| **λ¨λ‹ν„°λ§ λ° λ΅κΉ…** | API μ‚¬μ©λ‰ λ° μ„±λ¥ λ°μ΄ν„°λ¥Ό κΈ°λ΅, λ¶„μ„, μ‹κ°ν™”ν•μ—¬ κ΄€λ¦¬ ν¨μ¨μ„± μ¦λ€ |
| **λ°μ΄ν„° μΊμ‹±** | μμ£Ό μ”μ²­λλ” λ°μ΄ν„°λ¥Ό μΊμ‹±ν•΄ μ”μ²­ μ²λ¦¬ μ†λ„ ν–¥μƒ |

## API Gateway λ™μ‘κ³Όμ •

![image](https://github.com/user-attachments/assets/f05625c6-b030-4459-b8db-da6fa9da02db)


**Step 1. ν΄λΌμ΄μ–ΈνΈ μ”μ²­** 

ν΄λΌμ΄μ–ΈνΈκ°€ HTTP μ”μ²­μ„ API κ²μ΄νΈμ›¨μ΄λ΅ λ³΄λƒ„

**Step 2. μ”μ²­ λ¶„μ„ λ° κ²€μ¦**

API κ²μ΄νΈμ›¨μ΄λ” HTTP μ”μ²­μ μ†μ„±μ„ λ¶„μ„ν•κ³  μ ν¨μ„±μ„ κ²€μ‚¬

**Step 3. ν—μ©/κ±°λ¶€ λ©λ΅ ν™•μΈ**

ν—μ©(allow-list) λ° κ±°λ¶€(deny-list) μ²΄ν¬λ¥Ό μν–‰

**Step 4. μΈμ¦ λ° κ¶ν• ν™•μΈ**

API κ²μ΄νΈμ›¨μ΄λ” Identity Provider(μ•„μ΄λ΄ν‹°ν‹° μ κ³µμ)μ™€ ν†µμ‹ ν•μ—¬ μ”μ²­μ„ μΈμ¦ λ° κ¶ν• ν™•μΈ

**Step 5. μ”μ²­ μ ν• μ μ©**

μ”μ²­ μ ν• κ·μΉ™(rate limiting)μ„ μ μ©. μ΄κ³Όλ κ²½μ° μ”μ²­μ„ κ±°λ¶€

**Step 6-7. κ²½λ΅ λ§¤μΉ­**

μ”μ²­μ΄ κΈ°λ³Έμ μΈ κ²€μ‚¬λ¥Ό ν†µκ³Όν•λ©΄ API κ²μ΄νΈμ›¨μ΄λ” κ²½λ΅ λ§¤μΉ­(Path Matching)μ„ ν†µν•΄ μ μ ν• μ„λΉ„μ¤λ¥Ό μ°Ύμ•„ μ”μ²­μ„ λΌμ°ν…

**Step 8. ν”„λ΅ν† μ½ λ³€ν™**

μ”μ²­μ„ μ μ ν• ν”„λ΅ν† μ½λ΅ λ³€ν™ν• λ’¤ λ°±μ—”λ“ λ§μ΄ν¬λ΅μ„λΉ„μ¤λ΅ μ „λ‹¬

**Step 9-12. μ—λ¬ μ²λ¦¬ λ° λ΅κΉ…**

μ—λ¬λ¥Ό μ²λ¦¬ν•κ³  λ³µκµ¬κ°€ μ§€μ—°λ  κ²½μ° `νλ΅ μ°¨λ‹¨(circuit break)`μ„ μ μ©. λν• `ELK μ¤νƒ(Elastic-Logstash-Kibana)`μ„ ν†µν•΄ `λ΅κΉ… λ° λ¨λ‹ν„°λ§`μ„ μν–‰ν•κ³ , `λ°μ΄ν„° μΊμ‹±`μ„ μ§€μ›ν•κΈ°λ„ ν•¨

## API Gatewayλ¥Ό μ‚¬μ©ν•λ” μ΄μ 

- **λ³΄μ• κ°•ν™”**: λ―Όκ°ν• λ°μ΄ν„°μ— λ€ν• μ ‘κ·Όμ„ μ¤‘μ•™μ—μ„ ν†µμ 
- **μ μ—°μ„±**: μ”μ²­μ„ μ—¬λ¬ μ„λΉ„μ¤λ΅ λΌμ°ν…ν•κ±°λ‚ λ³€ν™ν•  μ μμ–΄ μ‹μ¤ν…μ μ μ—°μ„±μ΄ λ†’μ•„μ§
- **ν™•μ¥μ„±**: μ”μ²­ νΈλν”½μ΄ λ§μ•„μ§ κ²½μ° μ„λ²„ λ¶€ν•λ¥Ό λ¶„μ‚°ν•κ±°λ‚ μ ν•ν•  μ μμ
- **ν†µν•© κ΄€λ¦¬**: λ¨λ“  API μ”μ²­κ³Ό μ‘λ‹µμ„ ν• κ³³μ—μ„ κ΄€λ¦¬ν•λ―€λ΅ μ΄μ ν¨μ¨μ΄ ν–¥μƒλ¨
- **κ°λ°μ μƒμ‚°μ„± ν–¥μƒ**: λ°±μ—”λ“ μ„λΉ„μ¤μ— λ€ν• μ§μ ‘μ μΈ μ ‘κ·Όμ„ λ§‰μ•„ κ°λ°ν€μ΄ κ° μ„λΉ„μ¤μ—λ§ μ§‘μ¤‘ν•  μ μμ

## μ°Έκ³ 

https://github.com/ByteByteGoHq/system-design-101/?tab=readme-ov-file#what-does-api-gateway-do

https://en.wikipedia.org/wiki/API_management

[https://inpa.tistory.com/entry/AWS-π“-API-Gateway-κ°λ…-κΈ°λ³Έ-μ‚¬μ©λ²•-μ •λ¦¬](https://inpa.tistory.com/entry/AWS-%F0%9F%93%9A-API-Gateway-%EA%B0%9C%EB%85%90-%EA%B8%B0%EB%B3%B8-%EC%82%AC%EC%9A%A9%EB%B2%95-%EC%A0%95%EB%A6%AC)

----
# API μ„±λ¥ ν–¥μƒμ‹ν‚¤λ” λ°©λ²•
## Pagination

λ°μ΄ν„°λ¥Ό μΌμ •ν• ν¬κΈ°μ νμ΄μ§€ λ‹¨μ„λ΅ λ‚λ μ„ ν΄λΌμ΄μ–ΈνΈμ—μ„Έ μμ°¨μ μΌλ΅ μ „λ‹¬

### μ¥μ 

- μ„±λ¥ κµΏ : νμ΄μ§€ λ‹¨μ„λ΅ λ‚λ μ„ λ³΄λ‚΄μ„ μ„λ²„ λ¶€ν μ¤„μ„
- μ†λ„ κµΏ
- μ•μ •μ„± κµΏ

### κµ¬ν„ λ°©λ²•

μΌλ°μ μΌλ΅ page, page_size νλΌλ―Έν„°λ¥Ό λ°›μ•„ μ μ ν•κ² μΏΌλ¦¬

ν„μ¬ νμ΄μ§€ μ, μ΄ νμ΄μ§€ μ, λ‹¤μ νμ΄μ§€ λ§ν¬ λ“±μ„ μ‘λ‹µ λ©”νƒ€λ°μ΄ν„°λ΅ μ κ³µν•λ©΄ ν΄λΌμ΄μ–ΈνΈ μΈ΅ λ΅μ§μ΄ μ©μ΄ 

## Async Logging

μΌλ°μ μΌλ΅ API μ„λ²„λ” κ° μ”μ²­μ— λ€ν• λ΅κ·Έλ¥Ό κΈ°λ΅ν•¨

ν•μ§€λ§ λ΅κ·Έ κΈ°λ΅μ€ μƒλ€μ μΌλ΅ λλ¦° λ””μ¤ν¬ μ“°κΈ°λ¥Ό ν¬ν•¨ν•λ” κ²½μ°κ°€ μμ–΄ μ”μ²­ μ²λ¦¬ νλ¦„μ„ μ§€μ—°μ‹ν‚΄

Async Logging : μ”μ²­ μ²λ¦¬ λ΅μ§κ³Ό λ΅κ·Έ κΈ°λ΅ λ΅μ§μ„ λ¶„λ¦¬ν•΄ λ΅κ·Έ κΈ°λ΅ μμ²΄λ¥Ό λ³„λ„ μ“°λ λ“λ‚ λΉ„λ™κΈ° νλ¥Ό ν†µν•΄ μ²λ¦¬ν•΄ λ©”μΈ μ”μ²­ μ“°λ λ“κ°€ κΈ°λ‹¤λ¦¬μ§€ μ•κ³  λΉ λ¥΄κ² μ‘λ‹µμ„ λ°ν™ν•λ” λ°©μ‹

### μ¥μ 

- μ†λ„
    - λ΅κ·Έλ¥Ό λΉ„λ™κΈ°λ΅ μ²λ¦¬ν•΄ μ‘λ‹µ λΉ λ¥΄κ²
- μ„±λ¥
    - λ™μ‹μ— λ§μ€ μ”μ²­μ΄ λ“¤μ–΄μ™€λ„ μ¦‰κ°μ μΌλ΅ νμ— μ“μ΄κ³  λ‚μ¤‘μ— λ¬¶μμΌλ΅ κΈ°λ΅ν•΄ μ„λ²„ μ²λ¦¬λ‰μ΄ μ¦κ°€
- μμ› ν¨μ¨
    - λ³„λ„μ λ΅κΉ… μ“°λ λ“, λ²„νΌλ¥Ό μ‚¬μ©ν•΄ CPUλ‚ I/O μμ›μ„ ν¨μ¨μ μΌλ΅ λ¶„λ°°

## Caching

API μ”μ²­μ— μμ£Ό μ΅°νλλ” λ°μ΄ν„°λ¥Ό λ§¤λ² DBμ—μ„ μ½μΌλ©΄ λλ ¤μ§, κ·Έλμ„ λΉλ²ν μ”μ²­λλ” λ°μ΄ν„°λ¥Ό λ©”λ¨λ¦¬ μ €μ¥μ†μ— μ €μ¥ν•κ³  μ”μ²­ μ‹ DB λ€μ‹  μΊμ‹μ—μ„ λ°”λ΅ λ°ν™ν•λ” λ°©μ‹

### μ¥μ 

- μ†λ„
    - λ©”λ¨λ¦¬ κΈ°λ° μΊμ‹λ” λ””μ¤ν¬ κΈ°λ° λ””λΉ„λ³΄λ‹¤ ν›¨μ”¬ λΉ λ¥Έ μ½κΈ° μ†λ„λ¥Ό κ°€μ§
- DB λ¶€ν• κ°μ†
- λΉ„μ©
    - DB μ¤μΌ€μΌλ§ λΉ„μ© μ κ°

## νμ΄λ΅λ“ μ••μ¶•

API μ‘λ‹µ λ°μ΄ν„°, μ¦‰ νμ΄λ΅λ“κ°€ ν¬λΌμ΄μ–ΈνΈμ™€ μ„λ²„ κ°„ μ „μ†΅ μ‹ ν¬κΈ°κ°€ ν¬λ©΄ μ „μ†΅ μ‹κ°„μ΄ κΈΈμ–΄μ§€κ³  λΉ„μ©μ΄ μ¦κ°€. κ·Έλμ„ κ°μΆ… μ••μ¶• κΈ°λ²•μ„ μ‚¬μ©ν•΄ μ „μ†΅ν•΄μ•Ό ν•  λ°μ΄ν„° μ–‘μ„ μ¤„μ—¬ μ‘λ‹µ μ†λ„λ¥Ό λ†’μ΄λ” λ°©μ‹

### μ¥μ 

- μ†λ„
    - μ••μ¶•λ λ°μ΄ν„°λ” ν¬κΈ°κ°€ λ§μ΄ μ¤„μ–΄λ“¤μ–΄ μ „μ†΅ μ‹κ°„μ΄ κ°μ†. μ΄λ¬ν• λ¶€λ¶„μ€ UXμ— λ„μ›€μ„ μ¤„ μ μμ
- λΉ„μ©
    - ν΄λΌμ°λ“ ν™κ²½μ—μ„ νΈλν”½ λΉ„μ© μ κ°μ— λ„μ›€μ„ μ¤

## μ»¤λ„¥μ… ν’€

API μ„λ²„κ°€ λ””λΉ„, μ™Έλ¶€ μ„λΉ„μ¤μ™€ μ—°κ²°ν•  λ•λ§λ‹¤ TCP μ»¤λ„¥μ…μ„ μƒλ΅ μƒμ„±ν•κ³  λ‹«λ” κ³Όμ •μ΄ λΉ„μ‹Έκ³  μ‹κ°„μ΄ λ§μ΄ λ“ λ‹¤. κ·Έλμ„ μ»¤λ„¥μ… ν’€λ΅ κ°€λ¥ν• μ—°κ²°λ“¤μ„ λ―Έλ¦¬ λ§λ“¤μ–΄λ‘κ³ , μ”μ²­ μ‹ μ¦‰μ‹ ν• λ‹Ήν•΄ μ»¤λ„¥μ… μƒμ„±/ν•΄μ  μ¤λ²„ν—¤λ“λ¥Ό μ¤„μ΄λ” λ°©μ‹

### μ¥μ 

- λΉ„μ©
    - λ§¤ μ”μ²­λ§λ‹¤ μƒλ΅μ΄ μ»¤λ„¥μ… μ—΄μ§€ μ•μ•„λ„ λ¨
- λ¦¬μ†μ¤ ν™μ©
- μ•μ •μ„±

  
----

# Code First vs API First
κ²°λ΅  : API First ν•΄λΌ.

μ™ μ½”λ“ μ‘μ„±μ— μ•μ„ APIλ¥Ό μ‘μ„±ν•΄μ•Ό ν•λ”κ°€?

- λ§μ΄ν¬λ΅μ„λΉ„μ¤ μ•„ν‚¤ν…μ²λ” μ‹μ¤ν…μ κΈ°λ¥λ“¤μ„ λ¶„λ¦¬ν•¨μΌλ΅μ¨ ν™•μ¥μ„±, μ¥μ•  μ „ν λ“± κΈ°μ΅΄ λ¨λ†€λ¦¬μ‹ μ•„ν‚¤ν…μ²μ ν•κ³„λ¥Ό κ·Ήλ³µ
- ν•μ§€λ§ μ‹μ¤ν…μ κΈ°λ¥λ“¤μ΄ ν•λ‚μ μ„λΉ„μ¤λ΅μ„ μ΅΄μ¬ν•κΈ° λ•λ¬Έμ— μ‹μ¤ν…μ΄ λ³µμ΅ν•΄μ§€κ³  μ΄μ— λ”°λΌ μ„λΉ„μ¤ κ°„ λ°μƒν•λ” λ§μ€ ν†µμ‹ λ“¤μ„ μ μ–΄ν•΄μ•Ό ν•λ‹¤λ” μƒλ΅μ΄ λ‹¨μ μ΄ λ“±μ¥
- κΈ°λ¥ κ°„μ ν†µμ‹ μ μ¦κ°€λ” μμ—°μ¤λ½κ² APIμ μλ¥Ό μ¦κ°€μ‹ν‚¤λ” κ²°κ³Όλ¥Ό κ°€μ Έμ΄

## API First Development

- λ¨Όμ € μ‹μ¤ν…μ λ³µμ΅λ„λ¥Ό νμ•…ν•κ³  μ„λΉ„μ¤μ κ²½κ³„λ¥Ό λ…ν™•ν μ •μν•΄μ•Ό ν•¨
- κ°κ°μ κ°λ° ν€μ€ μμ‹ λ“¤μ΄ κ°λ°ν• μ»΄ν¬λ„νΈμ— λ€ν• μ±…μ„λ§μ„ κ°€μ§
- κ° ν€μ€ μ„λ΅ λ‹¤λ¥Έ κΈ°μ  μ¤νƒκ³Ό ν”λ«νΌμ„ μ‚¬μ©ν•  μ μμ§€λ§, μ„λΉ„μ¤ κ°„ μ†ν†µμ„ μ„ν•΄ κ³µν†µλ λ°μ΄ν„° ν¬λ§·κ³Ό κ·μΉ™μ„ μ¤€μν•΄μ•Ό ν•¨
- API μ„¤κ³„λ¥Ό ν†µν•΄ μ†ν†µμ„ μ„ν• κ³µν†µμ λ°μ΄ν„° ν¬λ§·, ν†µμ‹  λ°©μ‹, μ „μ†΅ κ·μΉ™ λ“±μ„ λ…ν™•ν μ •μ

## API First Development κΈ°λ€ ν¨κ³Ό

1. ν”„λ΅μ νΈ μ‹μ‘ μ‹ λ€λ¶€λ¶„μ λ¶ν™•μ‹¤μ„±μ„ ν•΄μ†ν–κΈ° λ•λ¬Έμ— κ°λ° κ³Όμ •μ΄ μ›ν™ν•κ² μ§„ν–‰λ¨
2. κ°λ°μλ“¤μ€ κ°‘μ‘μ¤λ¬μ΄ λ³€κ²½μ‚¬ν•­κ³Ό μ΄λ¥Ό ν•΄κ²°ν•κΈ° μ„ν• ν‘μƒ μ‹κ°„μ„ μ¤„μΌ μ μμ. κΈ°λ¥ κ°λ°μ— μ§‘μ¤‘ν•  μ μμ.
3. APIλ¥Ό λ¨Όμ € μ„¤κ³„ν–κΈ° λ•λ¬Έμ— μ½”λ“κ°€ κ°λ°λλ” λ™μ• ν…μ¤νΈ ν•¨κ» μ„¤κ³„ν•  μ μμ. μ¦‰, κ°λ°κ³Ό ν…μ¤νΈ ν”„λ΅μ„Έμ¤ λ™μ‹μ— μ§„ν–‰ κ°€λ¥
